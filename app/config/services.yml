# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
#    parameter_name: value
    # ... other parameters
    security.acl.permission.map.class: Sonata\AdminBundle\Security\Acl\Permission\AdminPermissionMap
    # optionally use a custom MaskBuilder
    #sonata.admin.security.mask.builder.class: Sonata\AdminBundle\Security\Acl\Permission\MaskBuilder
services:
#    service_name:
#        class: AppBundle\Directory\ClassName
#        arguments: ["@another_service_name", "plain_value", "%parameter_name%"]
      
    password.pass.servicio:
      class: Application\Sonata\UserBundle\Admin\PasswordAdmin
      tags:
        - { name: sonata.admin, manager_type: orm, group: Password Manager, label: Contrase√±as, icon: fa-key }
      arguments: [null, Application\Sonata\UserBundle\Entity\Password, ApplicationSonataUserBundle:Password]
    
    application_sonata_user.admin.tipo_pass:
        class: Application\Sonata\UserBundle\Admin\TipoPassAdmin
        arguments: [~, Application\Sonata\UserBundle\Entity\TipoPass, SonataAdminBundle:CRUD]
        tags:
            - {name: sonata.admin, manager_type: orm, group: Password Manager, label: TipoPass}
      
    security.access.password_voter:
      class:      Application\Sonata\UserBundle\Security\Authorization\Voter\PasswordVoter
      public:     false
      tags:
         - { name: security.voter }
         
    sonata.classification.admin.tag:
      abstract: true
      public: false
      
    sonata.classification.admin.collection:
      abstract: true
      public: false    
      
    gedmo.listener.timestampable:
        class: Gedmo\Timestampable\TimestampableListener
        tags:
            - { name: doctrine.event_subscriber, connection: default }
        calls:
            - [ setAnnotationReader, [ @annotation_reader ] ]
            
    kernel.listener.expired_password:
        class: Application\Sonata\EventListener\ExpiredPassword
        arguments: [@router, @security.context, @session]
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onCheckExpired, priority: 1 } 
    
imports:
    - { resource: sonata/classification_admin.xml }
    - { resource: sonata/doctrine_orm_admin.xml }